<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">
<head>
    <title>–ö–∞—Ä—Ç–∞ –∏–Ω–Ω–æ–≤–∞—Ç–æ—Ä–æ–≤ - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∏–¥–µ–π</title>
</head>
<body>
<div layout:fragment="content">
    <div class="container py-4">
        <h1 class="mb-4">üéØ –ö–∞—Ä—Ç–∞ –∏–Ω–Ω–æ–≤–∞—Ç–æ—Ä–æ–≤</h1>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <ul class="nav nav-tabs mb-4">
            <li class="nav-item">
                <a class="nav-link" th:href="@{/manager}">–û–±–∑–æ—Ä</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" th:href="@{/manager/people}">–õ—é–¥–∏</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/manager/teams}">–ö–æ–º–∞–Ω–¥—ã</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" th:href="@{/manager/funnel}">–í–æ—Ä–æ–Ω–∫–∞</a>
            </li>
        </ul>

        <!-- –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º -->
        <div class="btn-group mb-4" role="group">
            <a th:href="@{/manager/people(category='ALL')}"
               th:class="${selectedCategory == 'ALL' ? 'btn btn-primary' : 'btn btn-outline-primary'}">
                –í—Å–µ
            </a>
            <a th:href="@{/manager/people(category='INNOVATOR')}"
               th:class="${selectedCategory == 'INNOVATOR' ? 'btn btn-danger' : 'btn btn-outline-danger'}">
                üî• –ò–Ω–Ω–æ–≤–∞—Ç–æ—Ä—ã
                <span class="badge bg-light text-dark" th:text="${dashboard.innovatorsCount}">0</span>
            </a>
            <a th:href="@{/manager/people(category='EARLY_ADOPTER')}"
               th:class="${selectedCategory == 'EARLY_ADOPTER' ? 'btn btn-warning' : 'btn btn-outline-warning'}">
                üöÄ –†–∞–Ω–Ω–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–∏
                <span class="badge bg-light text-dark" th:text="${dashboard.earlyAdoptersCount}">0</span>
            </a>
            <a th:href="@{/manager/people(category='PARTICIPANT')}"
               th:class="${selectedCategory == 'PARTICIPANT' ? 'btn btn-info' : 'btn btn-outline-info'}">
                üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏
                <span class="badge bg-light text-dark" th:text="${dashboard.participantsCount}">0</span>
            </a>
            <a th:href="@{/manager/people(category='OBSERVER')}"
               th:class="${selectedCategory == 'OBSERVER' ? 'btn btn-secondary' : 'btn btn-outline-secondary'}">
                üëÄ –ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏
                <span class="badge bg-light text-dark" th:text="${dashboard.observersCount}">0</span>
            </a>
        </div>

        <!-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
        <div class="card">
            <div class="card-body p-0">
                <table class="table table-hover mb-0">
                    <thead>
                    <tr>
                        <th>–ò–º—è</th>
                        <th>Email</th>
                        <th>–ö–æ–º–∞–Ω–¥–∞</th>
                        <th class="text-center">–ò–¥–µ–π</th>
                        <th class="text-center">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ</th>
                        <th class="text-center">–ì–æ–ª–æ—Å–æ–≤</th>
                        <th class="text-center">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</th>
                        <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                        <th class="text-center">–°–∫–æ—Ä</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="person : ${people}">
                        <td>
                            <a th:href="@{/profile/{id}(id=${person.userId})}"
                               th:text="${person.displayName}">–ò–º—è</a>
                        </td>
                        <td th:text="${person.email}">email@example.com</td>
                        <td th:text="${person.teamName ?: '‚Äî'}">–ö–æ–º–∞–Ω–¥–∞</td>
                        <td class="text-center" th:text="${person.ideasCount}">0</td>
                        <td class="text-center">
                            <span th:if="${person.implementedCount > 0}" class="text-success fw-bold"
                                  th:text="${person.implementedCount}">0</span>
                            <span th:if="${person.implementedCount == 0}">0</span>
                        </td>
                        <td class="text-center" th:text="${person.votesCount}">0</td>
                        <td class="text-center" th:text="${person.commentsCount}">0</td>
                        <td>
                            <span th:if="${person.category == 'INNOVATOR'}"
                                  class="badge bg-danger">üî• –ò–Ω–Ω–æ–≤–∞—Ç–æ—Ä</span>
                            <span th:if="${person.category == 'EARLY_ADOPTER'}"
                                  class="badge bg-warning text-dark">üöÄ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å</span>
                            <span th:if="${person.category == 'PARTICIPANT'}"
                                  class="badge bg-info">üë• –£—á–∞—Å—Ç–Ω–∏–∫</span>
                            <span th:if="${person.category == 'OBSERVER'}"
                                  class="badge bg-secondary">üëÄ –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å</span>
                            <span th:if="${person.category == 'INACTIVE'}"
                                  class="badge bg-dark">üí§ –ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                        </td>
                        <td class="text-center">
                            <span class="fw-bold" th:text="${#numbers.formatDecimal(person.activityScore, 1, 0)}">0</span>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>
